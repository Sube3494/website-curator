# 更新日志

本文件记录了 Website Curator 项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中
- 批量导入网站功能
- 网站统计和分析
- API 接口文档
- 网站标签自动识别

## [1.3.0] - 2025-08-06

### 重大变更
- 🔄 **数据库迁移** - 从 Supabase 完全迁移到 MySQL，提升数据控制能力和部署灵活性
- 🔐 **认证系统重构** - 使用自定义 JWT 认证替代 Supabase Auth，增强安全性和可定制性

### 新增
- 📧 **重置密码功能** - 全新的密码重置流程，支持邮件验证和安全链接
- 🔒 **本地用户管理** - 完整的用户注册、登录、密码管理系统
- 📊 **MySQL 数据库架构** - 优化的数据库表结构和关系设计

### 改进
- ⚡ **性能提升** - 本地数据库连接，减少第三方服务依赖
- 🛠️ **部署简化** - 支持更多部署平台，不再依赖 Supabase 服务
- 🔧 **配置灵活性** - 支持自定义数据库配置和邮件服务设置

### 技术栈更新
- **数据库**: Supabase → MySQL 5.7
- **认证**: Supabase Auth → JWT + bcrypt
- **邮件服务**: 新增 Nodemailer + QQ SMTP 支持

## [1.2.0] - 2025-08-06

### 新增
- ✨ **忘记密码独立页面** - 将忘记密码功能从模态框迁移到独立页面 (`/forgot-password`)
- ⏰ **重新发送邮件限制** - 添加60秒倒计时防止频繁发送邮件
- 🚀 **Vercel 部署配置** - 完整的 Vercel 部署指南和自动化配置脚本
- 📝 **环境变量配置助手** - `pnpm run setup:vercel` 命令自动生成部署配置

### 改进
- 🎨 **用户体验优化** - 忘记密码页面与认证页面保持一致的UI设计
- 📱 **响应式设计** - 优化移动端忘记密码页面显示效果
- 🔒 **安全性增强** - 自动生成强JWT密钥，优化邮件链接安全性
- 📚 **文档结构优化** - 清理冗余文档，建立清晰的文档层次结构

### 修复
- 🐛 **邮件链接域名** - 修复邮件中重置链接指向错误域名的问题
- 🔧 **环境变量配置** - 优化开发和生产环境的配置管理

### 技术改进
- ⚡ **性能优化** - 优化页面加载动画和过渡效果
- 🛠️ **开发体验** - 添加自动化配置脚本，简化部署流程
- 📦 **构建优化** - 优化 Vercel 构建配置和缓存策略

## [1.1.0] - 2025-08-05

### 新增
- 🎨 **主题切换动画** - 添加平滑的明暗主题切换过渡效果
- 🌈 **渐变标题效果** - 主页和管理页面标题添加彩虹渐变动画
- 🔍 **搜索框居中** - 统一各页面搜索框和标题的居中设计
- ⭐ **收藏功能优化** - 实现本地状态优化，提升响应速度

### 改进
- 📱 **移动端优化** - 改进移动端导航和布局适配
- 🎯 **用户界面一致性** - 统一管理页面和用户页面的设计风格
- 🚀 **性能提升** - 优化收藏功能的响应时间和用户体验

### 修复
- 🐛 **对话框定位** - 修复各种模态框和对话框的定位问题
- 📐 **布局问题** - 解决卡片布局和间距不一致的问题

## [1.0.0] - 2025-08-04

### 新增
- 🎉 **项目初始发布**
- 🔐 **完整用户认证系统** - 基于JWT的注册、登录、密码重置
- 📝 **网站提交与审核** - 用户提交网站，管理员审核发布流程
- 🏷️ **分类和标签管理** - 灵活的网站分类和标签系统
- ⭐ **用户收藏功能** - 个人网站收藏和管理
- 👥 **多级用户权限** - user/admin/super_admin 三级权限系统
- ⚙️ **系统设置管理** - 灵活的系统配置和参数管理
- 🎨 **明暗主题支持** - 完整的主题切换功能
- 📱 **响应式设计** - 完美适配桌面端和移动端

### 技术栈
- **前端**: Next.js 15, React 19, TypeScript
- **样式**: Tailwind CSS, shadcn/ui
- **数据库**: MySQL 5.7
- **认证**: JWT + bcrypt
- **邮件**: Nodemailer + QQ SMTP
- **状态管理**: React Query
- **测试**: Playwright

### 核心功能
- 🌐 **网站浏览** - 分类筛选、搜索、分页浏览
- 📊 **管理后台** - 网站管理、用户管理、分类管理、系统设置
- 📧 **邮件服务** - 密码重置、账户通知
- 🔍 **搜索功能** - 全文搜索网站标题和描述
- 📱 **移动优化** - 完整的移动端适配

## 版本说明

### 版本号规则
- **主版本号**: 重大功能更新或架构变更
- **次版本号**: 新功能添加
- **修订版本号**: 问题修复和小改进

### 更新类型
- 🎉 **新增** - 全新功能
- ✨ **改进** - 功能增强
- 🐛 **修复** - 问题修复
- 🔒 **安全** - 安全相关更新
- ⚡ **性能** - 性能优化
- 📚 **文档** - 文档更新
- 🛠️ **开发** - 开发工具和流程改进

---

**维护者**: [Sube](https://github.com/Sube3494)  
**项目地址**: [GitHub](https://github.com/Sube3494/website-curator)
